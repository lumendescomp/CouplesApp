<!-- Modal Adicionar Receita -->
<div
  id="add-recipe-modal"
  class="fixed inset-0 bg-black/70 backdrop-blur-sm z-30 hidden flex items-center justify-center p-4"
  style="transition: opacity 0.3s ease; opacity: 0;"
>
  <div
    id="add-recipe-content"
    class="glass rounded-xl sm:rounded-2xl border border-violet-700/40 bg-gradient-to-br from-violet-950/95 to-fuchsia-950/95 w-full max-w-lg shadow-2xl"
    style="transform: scale(0.9); transition: transform 0.3s ease"
  >
    <!-- Header -->
    <div class="flex items-center justify-between p-4 sm:p-6 border-b border-violet-700/40">
      <h2 class="text-xl sm:text-2xl font-bold text-violet-100">Nova Receita</h2>
      <button
        id="close-add-recipe-btn"
        class="p-2 rounded-full hover:bg-white/10 text-violet-100 transition"
      >
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Content -->
    <form id="add-recipe-form" class="p-4 sm:p-6 space-y-4">
      <!-- Título -->
      <div>
        <label class="block text-sm font-medium text-violet-200 mb-2">
          Título da Receita *
        </label>
        <input
          type="text"
          name="title"
          required
          class="w-full px-4 py-2 bg-violet-900/20 border border-violet-700/30 rounded-lg text-violet-100 placeholder-violet-500 focus:outline-none focus:border-fuchsia-500 text-sm sm:text-base"
          placeholder="Ex: Bolo de chocolate"
        />
      </div>

      <!-- Foto -->
      <div>
        <label class="block text-sm font-medium text-violet-200 mb-2">
          Foto da Receita
        </label>
        <input
          type="file"
          id="recipe-photo"
          name="photo"
          accept="image/jpeg,image/jpg,image/png,image/webp"
          class="w-full px-4 py-2 bg-violet-900/20 border border-violet-700/30 rounded-lg text-violet-100 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-fuchsia-600 file:text-white hover:file:bg-fuchsia-700 file:cursor-pointer text-sm"
        />
        <p class="text-xs text-violet-400 mt-1">Formatos: JPG, PNG, WEBP (máx. 5MB)</p>
        
        <!-- Preview -->
        <div id="photo-preview" class="hidden mt-3">
          <img src="" alt="Preview" class="w-full h-48 object-cover rounded-lg">
        </div>
      </div>

      <!-- Link de referência -->
      <div>
        <label class="block text-sm font-medium text-violet-200 mb-2">
          Link da Receita (opcional)
        </label>
        <input
          type="url"
          name="reference_link"
          class="w-full px-4 py-2 bg-violet-900/20 border border-violet-700/30 rounded-lg text-violet-100 placeholder-violet-500 focus:outline-none focus:border-fuchsia-500 text-sm sm:text-base"
          placeholder="https://exemplo.com/receita"
        />
        <p class="text-xs text-violet-400 mt-1">Cole o link de onde você encontrou a receita</p>
      </div>

      <!-- Botões -->
      <div class="flex flex-col-reverse sm:flex-row gap-3 pt-4">
        <button
          type="button"
          onclick="document.getElementById('close-add-recipe-btn').click()"
          class="flex-1 px-4 py-2.5 bg-violet-600/30 hover:bg-violet-600/50 text-violet-100 rounded-lg transition text-sm sm:text-base"
        >
          Cancelar
        </button>
        <button
          type="submit"
          class="flex-1 px-4 py-2.5 bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-700 hover:to-fuchsia-700 text-white rounded-lg font-medium transition shadow-lg text-sm sm:text-base"
        >
          Adicionar Receita
        </button>
      </div>
    </form>
  </div>
</div>
